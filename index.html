<!DOCTYPE html>

<html lang="ja">

<head>

Â  Â  <meta charset="UTF-8">

Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

Â  Â  <title>QRã‚³ãƒ¼ãƒ‰è¡¨ç¤º</title>



Â  Â  <link rel="manifest" href="./manifest.json">

Â  Â  <meta name="theme-color" content="#007AFF">

Â  Â  <meta name="apple-mobile-web-app-capable" content="yes">

Â  Â  <meta name="apple-mobile-web-app-status-bar-style" content="default">

Â  Â  <meta name="apple-mobile-web-app-title" content="QR">

Â  Â  <link rel="apple-touch-icon" href="./icon-192.png">



Â  Â  <style>

Â  Â  Â  Â  /* CSSã¯å¤‰æ›´ãªã— */

Â  Â  Â  Â  :root {

Â  Â  Â  Â  Â  Â  --ios-blue: #007AFF;

Â  Â  Â  Â  Â  Â  --ios-light-blue: #4DA6FF;

Â  Â  Â  Â  Â  Â  --ios-green: #30D158;

Â  Â  Â  Â  Â  Â  --ios-red: #FF3B30;

Â  Â  Â  Â  Â  Â  --ios-orange: #FF9500;

Â  Â  Â  Â  Â  Â  --ios-purple: #AF52DE;

Â  Â  Â  Â  Â  Â  --ios-gray: #8E8E93;

Â  Â  Â  Â  Â  Â  --ios-light-gray: #F2F2F7;

Â  Â  Â  Â  Â  Â  --ios-dark-gray: #1C1C1E;

Â  Â  Â  Â  Â  Â  --ios-background: #F2F2F7;

Â  Â  Â  Â  Â  Â  --ios-card-background: rgba(255, 255, 255, 0.8);

Â  Â  Â  Â  Â  Â  --ios-text: #000000;

Â  Â  Â  Â  Â  Â  --ios-secondary-text: #8E8E93;

Â  Â  Â  Â  Â  Â  --ios-border: rgba(60, 60, 67, 0.18);

Â  Â  Â  Â  Â  Â  --ios-shadow: rgba(0, 0, 0, 0.1);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  * {

Â  Â  Â  Â  Â  Â  margin: 0;

Â  Â  Â  Â  Â  Â  padding: 0;

Â  Â  Â  Â  Â  Â  box-sizing: border-box;

Â  Â  Â  Â  Â  Â  -webkit-tap-highlight-color: transparent;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  body {

Â  Â  Â  Â  Â  Â  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', sans-serif;

Â  Â  Â  Â  Â  Â  background: var(--ios-background);

Â  Â  Â  Â  Â  Â  min-height: 100vh;

Â  Â  Â  Â  Â  Â  line-height: 1.4;

Â  Â  Â  Â  Â  Â  color: var(--ios-text);

Â  Â  Â  Â  Â  Â  font-size: 16px;

Â  Â  Â  Â  Â  Â  overflow-x: hidden;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  /* iPhoneSEæœ€é©åŒ– */

Â  Â  Â  Â  @media (max-width: 375px) and (max-height: 667px) {

Â  Â  Â  Â  Â  Â  body {

Â  Â  Â  Â  Â  Â  Â  Â  font-size: 15px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .container {

Â  Â  Â  Â  Â  Â  max-width: 375px;

Â  Â  Â  Â  Â  Â  margin: 0 auto;

Â  Â  Â  Â  Â  Â  min-height: 100vh;

Â  Â  Â  Â  Â  Â  background: var(--ios-background);

Â  Â  Â  Â  Â  Â  position: relative;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .header {

Â  Â  Â  Â  Â  Â  background: var(--ios-card-background);

Â  Â  Â  Â  Â  Â  backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  -webkit-backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  border-bottom: 1px solid var(--ios-border);

Â  Â  Â  Â  Â  Â  padding: 60px 20px 20px;

Â  Â  Â  Â  Â  Â  text-align: center;

Â  Â  Â  Â  Â  Â  position: sticky;

Â  Â  Â  Â  Â  Â  top: 0;

Â  Â  Â  Â  Â  Â  z-index: 100;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .header h1 {

Â  Â  Â  Â  Â  Â  font-size: 28px;

Â  Â  Â  Â  Â  Â  font-weight: 700;

Â  Â  Â  Â  Â  Â  color: var(--ios-text);

Â  Â  Â  Â  Â  Â  letter-spacing: -0.5px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .settings-btn {

Â  Â  Â  Â  Â  Â  position: absolute;

Â  Â  Â  Â  Â  Â  right: 20px;

Â  Â  Â  Â  Â  Â  top: 65px;

Â  Â  Â  Â  Â  Â  background: var(--ios-light-gray);

Â  Â  Â  Â  Â  Â  border: none;

Â  Â  Â  Â  Â  Â  color: var(--ios-blue);

Â  Â  Â  Â  Â  Â  width: 36px;

Â  Â  Â  Â  Â  Â  height: 36px;

Â  Â  Â  Â  Â  Â  border-radius: 18px;

Â  Â  Â  Â  Â  Â  cursor: pointer;

Â  Â  Â  Â  Â  Â  font-size: 18px;

Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;

Â  Â  Â  Â  Â  Â  display: flex;

Â  Â  Â  Â  Â  Â  align-items: center;

Â  Â  Â  Â  Â  Â  justify-content: center;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .settings-btn:active {

Â  Â  Â  Â  Â  Â  transform: scale(0.95);

Â  Â  Â  Â  Â  Â  background: #E5E5EA;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .main-content {

Â  Â  Â  Â  Â  Â  padding: 30px 20px;

Â  Â  Â  Â  Â  Â  min-height: calc(100vh - 140px);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-buttons {

Â  Â  Â  Â  Â  Â  display: flex;

Â  Â  Â  Â  Â  Â  flex-direction: column;

Â  Â  Â  Â  Â  Â  gap: 16px;

Â  Â  Â  Â  Â  Â  max-width: 320px;

Â  Â  Â  Â  Â  Â  margin: 0 auto;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-btn {

Â  Â  Â  Â  Â  Â  background: var(--ios-card-background);

Â  Â  Â  Â  Â  Â  backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  -webkit-backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  border: 1px solid var(--ios-border);

Â  Â  Â  Â  Â  Â  color: var(--ios-blue);

Â  Â  Â  Â  Â  Â  padding: 20px 24px;

Â  Â  Â  Â  Â  Â  border-radius: 16px;

Â  Â  Â  Â  Â  Â  font-size: 18px;

Â  Â  Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  Â  Â  cursor: pointer;

Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;

Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 10px var(--ios-shadow);

Â  Â  Â  Â  Â  Â  position: relative;

Â  Â  Â  Â  Â  Â  min-height: 60px;

Â  Â  Â  Â  Â  Â  display: flex;

Â  Â  Â  Â  Â  Â  align-items: center;

Â  Â  Â  Â  Â  Â  justify-content: center;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-btn::before {

Â  Â  Â  Â  Â  Â  content: '';

Â  Â  Â  Â  Â  Â  position: absolute;

Â  Â  Â  Â  Â  Â  left: 20px;

Â  Â  Â  Â  Â  Â  width: 24px;

Â  Â  Â  Â  Â  Â  height: 24px;

Â  Â  Â  Â  Â  Â  background: var(--ios-blue);

Â  Â  Â  Â  Â  Â  border-radius: 6px;

Â  Â  Â  Â  Â  Â  opacity: 0.1;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-btn:nth-child(2) {

Â  Â  Â  Â  Â  Â  color: var(--ios-green);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-btn:nth-child(2)::before {

Â  Â  Â  Â  Â  Â  background: var(--ios-green);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-btn:active {

Â  Â  Â  Â  Â  Â  transform: scale(0.98);

Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.6);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-display {

Â  Â  Â  Â  Â  Â  display: none;

Â  Â  Â  Â  Â  Â  padding: 20px;

Â  Â  Â  Â  Â  Â  text-align: center;

Â  Â  Â  Â  Â  Â  min-height: calc(100vh - 140px);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-display.active {

Â  Â  Â  Â  Â  Â  display: block;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-display h2 {

Â  Â  Â  Â  Â  Â  font-size: 24px;

Â  Â  Â  Â  Â  Â  font-weight: 700;

Â  Â  Â  Â  Â  Â  color: var(--ios-text);

Â  Â  Â  Â  Â  Â  margin-bottom: 30px;

Â  Â  Â  Â  Â  Â  letter-spacing: -0.3px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .qr-code {

Â  Â  Â  Â  Â  Â  background: white;

Â  Â  Â  Â  Â  Â  padding: 24px;

Â  Â  Â  Â  Â  Â  border-radius: 20px;

Â  Â  Â  Â  Â  Â  display: inline-block;

Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 20px var(--ios-shadow);

Â  Â  Â  Â  Â  Â  border: 1px solid var(--ios-border);

Â  Â  Â  Â  Â  Â  margin-bottom: 30px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .back-btn {

Â  Â  Â  Â  Â  Â  background: var(--ios-blue);

Â  Â  Â  Â  Â  Â  border: none;

Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  padding: 14px 28px;

Â  Â  Â  Â  Â  Â  border-radius: 12px;

Â  Â  Â  Â  Â  Â  font-size: 16px;

Â  Â  Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  Â  Â  cursor: pointer;

Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;

Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .back-btn:active {

Â  Â  Â  Â  Â  Â  transform: scale(0.95);

Â  Â  Â  Â  Â  Â  background: #0056CC;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .settings-panel {

Â  Â  Â  Â  Â  Â  display: none;

Â  Â  Â  Â  Â  Â  padding: 20px;

Â  Â  Â  Â  Â  Â  min-height: calc(100vh - 140px);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .settings-panel.active {

Â  Â  Â  Â  Â  Â  display: block;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .setting-group {

Â  Â  Â  Â  Â  Â  background: var(--ios-card-background);

Â  Â  Â  Â  Â  Â  backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  -webkit-backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  border: 1px solid var(--ios-border);

Â  Â  Â  Â  Â  Â  border-radius: 16px;

Â  Â  Â  Â  Â  Â  margin-bottom: 20px;

Â  Â  Â  Â  Â  Â  overflow: hidden;

Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 10px var(--ios-shadow);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .setting-group h3 {

Â  Â  Â  Â  Â  Â  color: var(--ios-text);

Â  Â  Â  Â  Â  Â  padding: 16px 20px 8px;

Â  Â  Â  Â  Â  Â  font-size: 18px;

Â  Â  Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  Â  Â  letter-spacing: -0.2px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .input-group {

Â  Â  Â  Â  Â  Â  padding: 0 20px 16px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .input-group:last-child {

Â  Â  Â  Â  Â  Â  padding-bottom: 20px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .input-group label {

Â  Â  Â  Â  Â  Â  display: block;

Â  Â  Â  Â  Â  Â  margin-bottom: 8px;

Â  Â  Â  Â  Â  Â  color: var(--ios-text);

Â  Â  Â  Â  Â  Â  font-weight: 500;

Â  Â  Â  Â  Â  Â  font-size: 14px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .input-group input, .input-group textarea {

Â  Â  Â  Â  Â  Â  width: 100%;

Â  Â  Â  Â  Â  Â  padding: 12px 16px;

Â  Â  Â  Â  Â  Â  border: 1px solid var(--ios-border);

Â  Â  Â  Â  Â  Â  border-radius: 12px;

Â  Â  Â  Â  Â  Â  font-size: 16px;

Â  Â  Â  Â  Â  Â  background: white;

Â  Â  Â  Â  Â  Â  color: var(--ios-text);

Â  Â  Â  Â  Â  Â  transition: border-color 0.2s ease;

Â  Â  Â  Â  Â  Â  font-family: inherit;

Â  Â  Â  Â  Â  Â  resize: vertical;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .input-group input:focus, .input-group textarea:focus {

Â  Â  Â  Â  Â  Â  outline: none;

Â  Â  Â  Â  Â  Â  border-color: var(--ios-blue);

Â  Â  Â  Â  Â  Â  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .save-btn {

Â  Â  Â  Â  Â  Â  background: var(--ios-blue);

Â  Â  Â  Â  Â  Â  border: none;

Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  padding: 16px 32px;

Â  Â  Â  Â  Â  Â  border-radius: 12px;

Â  Â  Â  Â  Â  Â  font-size: 18px;

Â  Â  Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  Â  Â  cursor: pointer;

Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;

Â  Â  Â  Â  Â  Â  width: 100%;

Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);

Â  Â  Â  Â  Â  Â  margin-top: 10px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .save-btn:active {

Â  Â  Â  Â  Â  Â  transform: scale(0.98);

Â  Â  Â  Â  Â  Â  background: #0056CC;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .backup-btn {

Â  Â  Â  Â  Â  Â  background: var(--ios-gray);

Â  Â  Â  Â  Â  Â  border: none;

Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  padding: 10px 16px;

Â  Â  Â  Â  Â  Â  border-radius: 8px;

Â  Â  Â  Â  Â  Â  font-size: 14px;

Â  Â  Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  Â  Â  cursor: pointer;

Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;

Â  Â  Â  Â  Â  Â  flex: 1;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .backup-btn:active {

Â  Â  Â  Â  Â  Â  transform: scale(0.95);

Â  Â  Â  Â  Â  Â  background: #6d6d72;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .install-prompt {

Â  Â  Â  Â  Â  Â  display: none;

Â  Â  Â  Â  Â  Â  background: var(--ios-card-background);

Â  Â  Â  Â  Â  Â  backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  -webkit-backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  border: 1px solid var(--ios-border);

Â  Â  Â  Â  Â  Â  color: var(--ios-text);

Â  Â  Â  Â  Â  Â  padding: 16px 20px;

Â  Â  Â  Â  Â  Â  position: fixed;

Â  Â  Â  Â  Â  Â  bottom: 34px;

Â  Â  Â  Â  Â  Â  left: 20px;

Â  Â  Â  Â  Â  Â  right: 20px;

Â  Â  Â  Â  Â  Â  border-radius: 16px;

Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 30px var(--ios-shadow);

Â  Â  Â  Â  Â  Â  z-index: 1000;

Â  Â  Â  Â  Â  Â  text-align: center;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .install-btn {

Â  Â  Â  Â  Â  Â  background: var(--ios-blue);

Â  Â  Â  Â  Â  Â  border: none;

Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  padding: 8px 16px;

Â  Â  Â  Â  Â  Â  border-radius: 8px;

Â  Â  Â  Â  Â  Â  margin: 8px 4px 0;

Â  Â  Â  Â  Â  Â  cursor: pointer;

Â  Â  Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  Â  Â  font-size: 14px;

Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .install-btn:active {

Â  Â  Â  Â  Â  Â  transform: scale(0.95);

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .install-btn.dismiss {

Â  Â  Â  Â  Â  Â  background: var(--ios-gray);

Â  Â  Â  Â  Â  Â  padding: 8px 12px;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  /* iPhoneSEå°‚ç”¨èª¿æ•´ */

Â  Â  Â  Â  @media (max-width: 375px) and (max-height: 667px) {

Â  Â  Â  Â  Â  Â  .header {

Â  Â  Â  Â  Â  Â  Â  Â  padding: 50px 16px 16px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .header h1 {

Â  Â  Â  Â  Â  Â  Â  Â  font-size: 24px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .settings-btn {

Â  Â  Â  Â  Â  Â  Â  Â  top: 55px;

Â  Â  Â  Â  Â  Â  Â  Â  right: 16px;

Â  Â  Â  Â  Â  Â  Â  Â  width: 32px;

Â  Â  Â  Â  Â  Â  Â  Â  height: 32px;

Â  Â  Â  Â  Â  Â  Â  Â  font-size: 16px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .main-content {

Â  Â  Â  Â  Â  Â  Â  Â  padding: 20px 16px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .qr-btn {

Â  Â  Â  Â  Â  Â  Â  Â  padding: 18px 20px;

Â  Â  Â  Â  Â  Â  Â  Â  font-size: 17px;

Â  Â  Â  Â  Â  Â  Â  Â  min-height: 56px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .qr-code {

Â  Â  Â  Â  Â  Â  Â  Â  padding: 20px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .settings-panel, .qr-display {

Â  Â  Â  Â  Â  Â  Â  Â  padding: 16px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .install-prompt {

Â  Â  Â  Â  Â  Â  Â  Â  bottom: 20px;

Â  Â  Â  Â  Â  Â  Â  Â  left: 16px;

Â  Â  Â  Â  Â  Â  Â  Â  right: 16px;

Â  Â  Â  Â  Â  Â  Â  Â  font-size: 14px;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  /* ã‚»ãƒ¼ãƒ•ã‚¨ãƒªã‚¢å¯¾å¿œ */

Â  Â  Â  Â  @supports (padding: max(0px)) {

Â  Â  Â  Â  Â  Â  .header {

Â  Â  Â  Â  Â  Â  Â  Â  padding-top: max(60px, env(safe-area-inset-top) + 20px);

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .install-prompt {

Â  Â  Â  Â  Â  Â  Â  Â  bottom: max(34px, env(safe-area-inset-bottom) + 20px);

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ */

Â  Â  Â  Â  @media (prefers-color-scheme: dark) {

Â  Â  Â  Â  Â  Â  :root {

Â  Â  Â  Â  Â  Â  Â  Â  --ios-background: #000000;

Â  Â  Â  Â  Â  Â  Â  Â  --ios-card-background: rgba(28, 28, 30, 0.8);

Â  Â  Â  Â  Â  Â  Â  Â  --ios-text: #FFFFFF;

Â  Â  Â  Â  Â  Â  Â  Â  --ios-secondary-text: #8E8E93;

Â  Â  Â  Â  Â  Â  Â  Â  --ios-border: rgba(84, 84, 88, 0.6);

Â  Â  Â  Â  Â  Â  Â  Â  --ios-shadow: rgba(0, 0, 0, 0.3);

Â  Â  Â  Â  Â  Â  Â  Â  --ios-light-gray: #1C1C1E;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .input-group input, .input-group textarea {

Â  Â  Â  Â  Â  Â  Â  Â  background: #1C1C1E;

Â  Â  Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  .qr-code {

Â  Â  Â  Â  Â  Â  Â  Â  background: white;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  </style>

</head>

<body>

Â  Â  <div class="container">

Â  Â  Â  Â  <div class="header">

Â  Â  Â  Â  Â  Â  <h1>QR</h1>

Â  Â  Â  Â  Â  Â  <button class="settings-btn" onclick="showSettings()">âš™ï¸</button>

Â  Â  Â  Â  </div>



Â  Â  <div id="main-view" class="main-content">

Â  Â  Â  Â  <div class="qr-buttons">

Â  Â  Â  Â  Â  Â  <button class="qr-btn" onclick="showQR(1)">

Â  Â  Â  Â  Â  Â  Â  Â  <span id="qr1-name">QR1</span>

Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  <button class="qr-btn" onclick="showQR(2)">

Â  Â  Â  Â  Â  Â  Â  Â  <span id="qr2-name">QR2</span>

Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â Â 

Â  Â  <div id="qr1-display" class="qr-display">

Â  Â  Â  Â  <h2 id="qr1-title">QR1</h2>

Â  Â  Â  Â  <div id="qr1-code" class="qr-code"></div>

Â  Â  Â  Â  <button class="back-btn" onclick="showMain()">æˆ»ã‚‹</button>

Â  Â  </div>

Â  Â Â 

Â  Â  <div id="qr2-display" class="qr-display">

Â  Â  Â  Â  <h2 id="qr2-title">QR2</h2>

Â  Â  Â  Â  <div id="qr2-code" class="qr-code"></div>

Â  Â  Â  Â  <button class="back-btn" onclick="showMain()">æˆ»ã‚‹</button>

Â  Â  </div>

Â  Â Â 

Â  Â  <div id="settings-view" class="settings-panel">

Â  Â  Â  Â  <div class="setting-group">

Â  Â  Â  Â  Â  Â  <h3>QR1 è¨­å®š</h3>

Â  Â  Â  Â  Â  Â  <div class="input-group">

Â  Â  Â  Â  Â  Â  Â  Â  <label for="qr1-name-input">åç§°</label>

Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="qr1-name-input" value="QR1">

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="input-group">

Â  Â  Â  Â  Â  Â  Â  Â  <label for="qr1-text-input">QRã‚³ãƒ¼ãƒ‰å†…å®¹</label>

Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="qr1-text-input" rows="3" placeholder="QRã‚³ãƒ¼ãƒ‰ã«åŸ‹ã‚è¾¼ã‚€ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›"></textarea>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  </div>

Â  Â  Â  Â Â 

Â  Â  Â  Â  <div class="setting-group">

Â  Â  Â  Â  Â  Â  <h3>QR2 è¨­å®š</h3>

Â  Â  Â  Â  Â  Â  <div class="input-group">

Â  Â  Â  Â  Â  Â  Â  Â  <label for="qr2-name-input">åç§°</label>

Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="qr2-name-input" value="QR2">

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="input-group">

Â  Â  Â  Â  Â  Â  Â  Â  <label for="qr2-text-input">QRã‚³ãƒ¼ãƒ‰å†…å®¹</label>

Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="qr2-text-input" rows="3" placeholder="QRã‚³ãƒ¼ãƒ‰ã«åŸ‹ã‚è¾¼ã‚€ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›"></textarea>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  </div>

Â  Â  Â  Â Â 

Â  Â  Â  Â  <div class="setting-group">

Â  Â  Â  Â  Â  Â  <h3>ãƒ‡ãƒ¼ã‚¿ç®¡ç†</h3>

Â  Â  Â  Â  Â  Â  <div style="display: flex; gap: 8px; margin-bottom: 16px;">

Â  Â  Â  Â  Â  Â  Â  Â  <button class="backup-btn" onclick="exportSettings()">ğŸ“¤ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>

Â  Â  Â  Â  Â  Â  Â  Â  <button class="backup-btn" onclick="importSettings()">ğŸ“¥ ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div style="display: flex; gap: 8px; margin-bottom: 16px;">

Â  Â  Â  Â  Â  Â  Â  Â  <button class="backup-btn" onclick="copyToClipboard()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>

Â  Â  Â  Â  Â  Â  Â  Â  <button class="backup-btn" onclick="pasteFromClipboard()">ğŸ“ ãƒšãƒ¼ã‚¹ãƒˆ</button>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div style="font-size: 12px; color: var(--ios-secondary-text); line-height: 1.4;">

Â  Â  Â  Â  Â  Â  Â  Â  iOS PWAã§ãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆãˆã‚‹å ´åˆï¼š<br>

Â  Â  Â  Â  Â  Â  Â  Â  1. ã€Œã‚³ãƒ”ãƒ¼ã€ã§ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦ä¿å­˜<br>

Â  Â  Â  Â  Â  Â  Â  Â  2. ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªç­‰ã«è²¼ã‚Šä»˜ã‘<br>

Â  Â  Â  Â  Â  Â  Â  Â  3. å¾©å…ƒæ™‚ã«ã€Œãƒšãƒ¼ã‚¹ãƒˆã€ã§æˆ»ã™

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <input type="file" id="import-file" accept=".json" style="display: none;" onchange="handleFileImport(event)">

Â  Â  Â  Â  </div>

Â  Â  Â  Â Â 

Â  Â  Â  Â  <button class="save-btn" onclick="saveSettings()">ä¿å­˜</button>

Â  Â  </div>

</div>



<div id="install-prompt" class="install-prompt">

Â  Â  <div>ã“ã®ã‚¢ãƒ—ãƒªã‚’ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ </div>

Â  Â  <button class="install-btn" onclick="installApp()">è¿½åŠ </button>

Â  Â  <button class="install-btn dismiss" onclick="hideInstallPrompt()">Ã—</button>

</div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>



<script>

Â  Â  // ãƒ‡ãƒ¼ã‚¿ä¿å­˜ç”¨ã®å¤‰æ•°

Â  Â  let appData = {

Â  Â  Â  Â  qr1: { name: 'QR1', text: 'QR1ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ†ã‚­ã‚¹ãƒˆ' },

Â  Â  Â  Â  qr2: { name: 'QR2', text: 'QR2ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ†ã‚­ã‚¹ãƒˆ' }

Â  Â  };

Â  Â Â 

Â  Â  let deferredPrompt = null;



Â  Â  // åˆæœŸåŒ–

Â  Â  document.addEventListener('DOMContentLoaded', function() {

Â  Â  Â  Â  // Service Workerã®ç™»éŒ²

Â  Â  Â  Â  if ('serviceWorker' in navigator) {

Â  Â  Â  Â  Â  Â  window.addEventListener('load', () => {

Â  Â  Â  Â  Â  Â  Â  Â  navigator.serviceWorker.register('./sw.js')

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(registration => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Service Worker ç™»éŒ²æˆåŠŸ:', registration);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .catch(error => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('Service Worker ç™»éŒ²å¤±æ•—:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  }



Â  Â  Â  Â  loadData();

Â  Â  Â  Â  updateUI();

Â  Â  Â  Â  generateQRCodes();

Â  Â  Â  Â  setupAutoSave();

Â  Â  Â  Â Â 

Â  Â  Â  Â  window.addEventListener('beforeinstallprompt', (e) => {

Â  Â  Â  Â  Â  Â  e.preventDefault();

Â  Â  Â  Â  Â  Â  deferredPrompt = e;

Â  Â  Â  Â  Â  Â  setTimeout(() => {

Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('install-prompt').style.display = 'block';

Â  Â  Â  Â  Â  Â  }, 3000);

Â  Â  Â  Â  });

Â  Â  Â  Â Â 

Â  Â  Â  Â  window.addEventListener('appinstalled', () => {

Â  Â  Â  Â  Â  Â  hideInstallPrompt();

Â  Â  Â  Â  });

Â  Â  });



Â  Â  // ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿

Â  Â  function loadData() {

Â  Â  Â  Â  let savedData = localStorage.getItem('qrAppData');

Â  Â  Â  Â  if (savedData) {

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  appData = JSON.parse(savedData);

Â  Â  Â  Â  Â  Â  Â  Â  console.log('localStorageã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å¾©å…ƒã—ã¾ã—ãŸã€‚');

Â  Â  Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  Â  Â  console.error('ãƒ‡ãƒ¼ã‚¿ã®è§£æã«å¤±æ•—ã—ã¾ã—ãŸã€‚', e);

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  }



Â  Â  // ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜

Â  Â  function saveData() {

Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  localStorage.setItem('qrAppData', JSON.stringify(appData));

Â  Â  Â  Â  Â  Â  console.log('localStorageã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚');

Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  console.error('ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã‚¨ãƒ©ãƒ¼:', e);

Â  Â  Â  Â  Â  Â  showSaveError();

Â  Â  Â  Â  }

Â  Â  }



Â  Â  // è‡ªå‹•ä¿å­˜æ©Ÿèƒ½ã®è¨­å®š

Â  Â  function setupAutoSave() {

Â  Â  Â  Â  const inputs = [

Â  Â  Â  Â  Â  Â  'qr1-name-input', 'qr1-text-input',Â 

Â  Â  Â  Â  Â  Â  'qr2-name-input', 'qr2-text-input'

Â  Â  Â  Â  ];

Â  Â  Â  Â Â 

Â  Â  Â  Â  inputs.forEach(id => {

Â  Â  Â  Â  Â  Â  const element = document.getElementById(id);

Â  Â  Â  Â  Â  Â  if (element) {

Â  Â  Â  Â  Â  Â  Â  Â  let timeout;

Â  Â  Â  Â  Â  Â  Â  Â  element.addEventListener('input', () => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearTimeout(timeout);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timeout = setTimeout(() => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  autoSaveSettings();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 1000);

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });

Â  Â  }



Â  Â  // è‡ªå‹•ä¿å­˜

Â  Â  function autoSaveSettings() {

Â  Â  Â  Â  appData.qr1.name = document.getElementById('qr1-name-input').value || 'QR1';

Â  Â  Â  Â  appData.qr1.text = document.getElementById('qr1-text-input').value || '';

Â  Â  Â  Â  appData.qr2.name = document.getElementById('qr2-name-input').value || 'QR2';

Â  Â  Â  Â  appData.qr2.text = document.getElementById('qr2-text-input').value || '';

Â  Â  Â  Â  saveData();

Â  Â  }



Â  Â  function showSaveError() {

Â  Â  Â  Â  const errorDiv = document.createElement('div');

Â  Â  Â  Â  errorDiv.style.cssText = `

Â  Â  Â  Â  Â  Â  position: fixed;

Â  Â  Â  Â  Â  Â  top: 50%;

Â  Â  Â  Â  Â  Â  left: 50%;

Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);

Â  Â  Â  Â  Â  Â  background: var(--ios-red);

Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  padding: 16px 20px;

Â  Â  Â  Â  Â  Â  border-radius: 12px;

Â  Â  Â  Â  Â  Â  z-index: 9999;

Â  Â  Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  `;

Â  Â  Â  Â  errorDiv.textContent = 'âš ï¸ è¨­å®šã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ';

Â  Â  Â  Â  document.body.appendChild(errorDiv);

Â  Â  Â  Â Â 

Â  Â  Â  Â  setTimeout(() => {

Â  Â  Â  Â  Â  Â  document.body.removeChild(errorDiv);

Â  Â  Â  Â  }, 3000);

Â  Â  }



Â  Â  // UIã®æ›´æ–°

Â  Â  function updateUI() {

Â  Â  Â  Â  document.getElementById('qr1-name').textContent = appData.qr1.name;

Â  Â  Â  Â  document.getElementById('qr2-name').textContent = appData.qr2.name;

Â  Â  Â  Â  document.getElementById('qr1-title').textContent = appData.qr1.name;

Â  Â  Â  Â  document.getElementById('qr2-title').textContent = appData.qr2.name;

Â  Â  Â  Â Â 

Â  Â  Â  Â  document.getElementById('qr1-name-input').value = appData.qr1.name;

Â  Â  Â  Â  document.getElementById('qr2-name-input').value = appData.qr2.name;

Â  Â  Â  Â  document.getElementById('qr1-text-input').value = appData.qr1.text;

Â  Â  Â  Â  document.getElementById('qr2-text-input').value = appData.qr2.text;

Â  Â  }



Â  Â  // QRã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆ

Â  Â  function generateQRCodes() {

Â  Â  Â  Â  const qr1Element = document.getElementById('qr1-code');

Â  Â  Â  Â  const qr2Element = document.getElementById('qr2-code');



Â  Â  Â  Â  qr1Element.innerHTML = '';

Â  Â  Â  Â  if (appData.qr1.text) {

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  const qr1 = new QRious({

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  element: document.createElement('canvas'),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value: appData.qr1.text,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  size: 200,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  foreground: '#000000',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  background: '#ffffff'

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  qr1Element.appendChild(qr1.canvas);

Â  Â  Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  Â  Â  qr1Element.innerHTML = '<p style="color: var(--ios-red);">QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆã‚¨ãƒ©ãƒ¼</p>';

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  qr2Element.innerHTML = '';

Â  Â  Â  Â  if (appData.qr2.text) {

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  const qr2 = new QRious({

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  element: document.createElement('canvas'),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value: appData.qr2.text,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  size: 200,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  foreground: '#000000',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  background: '#ffffff'

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  qr2Element.appendChild(qr2.canvas);

Â  Â  Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  Â  Â  qr2Element.innerHTML = '<p style="color: var(--ios-red);">QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆã‚¨ãƒ©ãƒ¼</p>';

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  }



Â  Â  // ç”»é¢åˆ‡ã‚Šæ›¿ãˆ

Â  Â  function showMain() {

Â  Â  Â  Â  document.getElementById('main-view').style.display = 'block';

Â  Â  Â  Â  document.getElementById('qr1-display').classList.remove('active');

Â  Â  Â  Â  document.getElementById('qr2-display').classList.remove('active');

Â  Â  Â  Â  document.getElementById('settings-view').classList.remove('active');

Â  Â  }



Â  Â  function showQR(num) {

Â  Â  Â  Â  document.getElementById('main-view').style.display = 'none';

Â  Â  Â  Â  document.getElementById('qr' + num + '-display').classList.add('active');

Â  Â  }



Â  Â  function showSettings() {

Â  Â  Â  Â  document.getElementById('main-view').style.display = 'none';

Â  Â  Â  Â  document.getElementById('settings-view').classList.add('active');

Â  Â  }



Â  Â  // è¨­å®šã®ä¿å­˜

Â  Â  function saveSettings() {

Â  Â  Â  Â  appData.qr1.name = document.getElementById('qr1-name-input').value || 'QR1';

Â  Â  Â  Â  appData.qr1.text = document.getElementById('qr1-text-input').value || '';

Â  Â  Â  Â  appData.qr2.name = document.getElementById('qr2-name-input').value || 'QR2';

Â  Â  Â  Â  appData.qr2.text = document.getElementById('qr2-text-input').value || '';

Â  Â  Â  Â Â 

Â  Â  Â  Â  saveData();

Â  Â  Â  Â  updateUI();

Â  Â  Â  Â  generateQRCodes();

Â  Â  Â  Â  showMain();

Â  Â  Â  Â Â 

Â  Â  Â  Â  navigator.vibrate && navigator.vibrate(50);

Â  Â  }



Â  Â  // PWAã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Â  Â  function installApp() {

Â  Â  Â  Â  if (deferredPrompt) {

Â  Â  Â  Â  Â  Â  deferredPrompt.prompt();

Â  Â  Â  Â  Â  Â  deferredPrompt.userChoice.then((choiceResult) => {

Â  Â  Â  Â  Â  Â  Â  Â  if (choiceResult.outcome === 'accepted') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('PWAãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã—ãŸ');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  deferredPrompt = null;

Â  Â  Â  Â  Â  Â  Â  Â  hideInstallPrompt();

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  }

Â  Â  }



Â  Â  function hideInstallPrompt() {

Â  Â  Â  Â  document.getElementById('install-prompt').style.display = 'none';

Â  Â  }



Â  Â  // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©å…ƒæ©Ÿèƒ½

Â  Â  function exportSettings() {

Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  const exportData = {

Â  Â  Â  Â  Â  Â  Â  Â  version: '1.0',

Â  Â  Â  Â  Â  Â  Â  Â  timestamp: new Date().toISOString(),

Â  Â  Â  Â  Â  Â  Â  Â  data: appData

Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const dataStr = JSON.stringify(exportData, null, 2);

Â  Â  Â  Â  Â  Â  const blob = new Blob([dataStr], { type: 'application/json' });

Â  Â  Â  Â  Â  Â  const url = URL.createObjectURL(blob);

Â  Â  Â  Â  Â  Â  const a = document.createElement('a');

Â  Â  Â  Â  Â  Â  a.href = url;

Â  Â  Â  Â  Â  Â  a.download = `qr-settings-${new Date().toISOString().split('T')[0]}.json`;

Â  Â  Â  Â  Â  Â  document.body.appendChild(a);

Â  Â  Â  Â  Â  Â  a.click();

Â  Â  Â  Â  Â  Â  document.body.removeChild(a);

Â  Â  Â  Â  Â  Â  URL.revokeObjectURL(url);

Â  Â  Â  Â  Â  Â  showMessage('âœ… è¨­å®šã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ', 'success');

Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  console.error('ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼:', e);

Â  Â  Â  Â  Â  Â  showMessage('âŒ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');

Â  Â  Â  Â  }

Â  Â  }



Â  Â  function importSettings() {

Â  Â  Â  Â  document.getElementById('import-file').click();

Â  Â  }



Â  Â  function handleFileImport(event) {

Â  Â  Â  Â  const file = event.target.files[0];

Â  Â  Â  Â  if (!file) return;

Â  Â  Â  Â  const reader = new FileReader();

Â  Â  Â  Â  reader.onload = function(e) {

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  const importData = JSON.parse(e.target.result);

Â  Â  Â  Â  Â  Â  Â  Â  if (importData.data && importData.data.qr1 && importData.data.qr2) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  appData = importData.data;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  saveData();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateUI();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  generateQRCodes();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showMessage('âœ… è¨­å®šã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ', 'success');

Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showMessage('âŒ ç„¡åŠ¹ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™', 'error');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  Â  Â  console.error('ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼:', e);

Â  Â  Â  Â  Â  Â  Â  Â  showMessage('âŒ ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  };

Â  Â  Â  Â  reader.readAsText(file);

Â  Â  }



Â  Â  function showMessage(message, type = 'info') {

Â  Â  Â  Â  const messageDiv = document.createElement('div');

Â  Â  Â  Â  messageDiv.style.cssText = `

Â  Â  Â  Â  Â  Â  position: fixed;

Â  Â  Â  Â  Â  Â  top: 100px;

Â  Â  Â  Â  Â  Â  left: 50%;

Â  Â  Â  Â  Â  Â  transform: translateX(-50%);

Â  Â  Â  Â  Â  Â  background: ${type === 'success' ? 'var(--ios-green)' : type === 'error' ? 'var(--ios-red)' : 'var(--ios-blue)'};

Â  Â  Â  Â  Â  Â  color: white;

Â  Â  Â  Â  Â  Â  padding: 12px 20px;

Â  Â  Â  Â  Â  Â  border-radius: 12px;

Â  Â  Â  Â  Â  Â  z-index: 9999;

Â  Â  Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.3);

Â  Â  Â  Â  Â  Â  animation: slideIn 0.3s ease;

Â  Â  Â  Â  `;

Â  Â  Â  Â  messageDiv.textContent = message;

Â  Â  Â  Â Â 

Â  Â  Â  Â  const style = document.createElement('style');

Â  Â  Â  Â  style.textContent = `

Â  Â  Â  Â  Â  Â  @keyframes slideIn {

Â  Â  Â  Â  Â  Â  Â  Â  from { transform: translateX(-50%) translateY(-20px); opacity: 0; }

Â  Â  Â  Â  Â  Â  Â  Â  to { transform: translateX(-50%) translateY(0); opacity: 1; }

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  `;

Â  Â  Â  Â  document.head.appendChild(style);

Â  Â  Â  Â Â 

Â  Â  Â  Â  document.body.appendChild(messageDiv);

Â  Â  Â  Â Â 

Â  Â  Â  Â  setTimeout(() => {

Â  Â  Â  Â  Â  Â  messageDiv.style.animation = 'slideIn 0.3s ease reverse';

Â  Â  Â  Â  Â  Â  setTimeout(() => {

Â  Â  Â  Â  Â  Â  Â  Â  if (document.body.contains(messageDiv)) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.body.removeChild(messageDiv);

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (document.head.contains(style)) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.head.removeChild(style);

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }, 300);

Â  Â  Â  Â  }, 2500);

Â  Â  }



Â  Â  async function copyToClipboard() {

Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  const exportData = {

Â  Â  Â  Â  Â  Â  Â  Â  version: '1.0',

Â  Â  Â  Â  Â  Â  Â  Â  timestamp: new Date().toISOString(),

Â  Â  Â  Â  Â  Â  Â  Â  data: appData

Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const dataStr = JSON.stringify(exportData);

Â  Â  Â  Â  Â  Â  await navigator.clipboard.writeText(dataStr);

Â  Â  Â  Â  Â  Â  showMessage('ğŸ“‹ ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ', 'success');

Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  console.error('ã‚³ãƒ”ãƒ¼ã‚¨ãƒ©ãƒ¼:', e);

Â  Â  Â  Â  Â  Â  const dataStr = JSON.stringify(appData);

Â  Â  Â  Â  Â  Â  prompt('ä»¥ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªã«ä¿å­˜ã—ã¦ãã ã•ã„ï¼š', dataStr);

Â  Â  Â  Â  }

Â  Â  }



Â  Â  async function pasteFromClipboard() {

Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  let pastedData = await navigator.clipboard.readText();

Â  Â  Â  Â  Â  Â  if (!pastedData) return;

Â  Â  Â  Â  Â  Â  const importData = JSON.parse(pastedData);

Â  Â  Â  Â  Â  Â  if (importData.data && importData.data.qr1 && importData.data.qr2) {

Â  Â  Â  Â  Â  Â  Â  Â  appData = importData.data;

Â  Â  Â  Â  Â  Â  Â  Â  saveData();

Â  Â  Â  Â  Â  Â  Â  Â  updateUI();

Â  Â  Â  Â  Â  Â  Â  Â  generateQRCodes();

Â  Â  Â  Â  Â  Â  Â  Â  showMessage('âœ… ãƒ‡ãƒ¼ã‚¿ã‚’å¾©å…ƒã—ã¾ã—ãŸ', 'success');

Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  showMessage('âŒ ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿å½¢å¼ã§ã™', 'error');

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  console.error('ãƒšãƒ¼ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼:', e);

Â  Â  Â  Â  Â  Â  showMessage('âŒ ãƒ‡ãƒ¼ã‚¿ã®å¾©å…ƒã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  }

Â  Â  }

</script>

</body>

</html>
